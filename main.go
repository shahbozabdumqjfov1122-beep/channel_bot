package main

import (
	"log"
	"time"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

func main() {
	bot, err := tgbotapi.NewBotAPI("8428800131:AAH0o_pCO7UwRwSfo7OnGJ0q0mXKmA_pQU4")
	if err != nil {
		log.Panic(err)
	}

	bot.Debug = true
	log.Printf("Bot authorized on account %s", bot.Self.UserName)

	// Faqat shu kanal/supergroup uchun
	allowedChannelID := int64(-1003056945596)

	u := tgbotapi.NewUpdate(0)
	u.Timeout = 60
	updates := bot.GetUpdatesChan(u)

	var newUsers []tgbotapi.User
	go func() {
		for {
			time.Sleep(3 * time.Minute)
			for _, newUser := range newUsers {
				reply := tgbotapi.NewMessage(allowedChannelID, "yozib turamiz")
				_, err := bot.Send(reply)
				if err != nil {
					log.Println("3 daqiqalik xabar yuborishda xato:", err)
				} else {
					log.Printf("Avtomatik javob yuborildi: foydalanuvchi %s", newUser.FirstName)
				}
			}
			newUsers = nil
		}
	}()
	loc, err := time.LoadLocation("Asia/Tashkent")
	if err != nil {
		log.Println("Vaqt zonasi yuklanmadi, default UTC ishlatiladi")
		loc = time.UTC
	}
	// Komandalar va javoblar
	commands := map[string]string{
		"salom":                             "alik",
		"Salom":                             "alik",
		"SALOM":                             "alik",
		"alik":                              "nima gap",
		"qalay":                             "yaxshi, rahmat!",
		"Qalay":                             "yaxshi, rahmat!",
		"nima":                              "nma nma",
		"NIMA":                              "nma nma",
		"Nima":                              "nma nma",
		"nima gap":                          "tinchlik",
		"NIMA GAP":                          "tinchlik",
		"qale":                              "zor ozingchi",
		"Qale":                              "zor ozingchi",
		"QALE":                              "zor ozingchi",
		"isming nima":                       "menda ism yo'q",
		"ble":                               "nima ble!",
		"Ble":                               "nima ble!",
		"BLE":                               "nima ble!",
		"Bliat":                             "nima Bliat!",
		"bliat":                             "nima bliat!",
		"blat":                              "nima blat!",
		"Blat":                              "nima Blat!",
		"zorku":                             "nim men ham bilsam boâ€˜ladimi",
		"Yaxsh rahmat":                      "yahshi bolsa yahshida",
		"Aha":                               "Aha Aha",
		"Bilaman":                           "nam qipti shunga!",
		"Lic":                               "aha yozdim",
		"soat nechi":                        "Hozirgi vaqt: " + time.Now().In(loc).Format("15:04"),
		"soat nechida":                      "Hozirgi vaqt: " + time.Now().In(loc).Format("15:04"),
		"soat nechi da":                     "Hozirgi vaqt: " + time.Now().In(loc).Format("15:04"),
		"soatnechi":                         "Hozirgi vaqt: " + time.Now().In(loc).Format("15:04"),
		"soatnechida":                       "Hozirgi vaqt: " + time.Now().In(loc).Format("15:04"),
		"Ok":                                "yahshi",
		"ok":                                "yahshi",
		"OK":                                "yahshi",
		"oK":                                "yahshi",
		"Yaxshi ozezchi":                    "Yaxshi rahmat",
		"Yaxshi":                            "unda ajoyib",
		"yaxshi":                            "unda ajoyib",
		"Yaxshi o'zezchi":                   "Yaxshi rahmat",
		"yaxshi ozezchi":                    "rahmat",
		"kitob":                             "Qaysi kitobni oâ€˜qiyapsiz?",
		"dasturlash":                        "Zo'r! Qaysi tilni ishlatyapsiz?",
		"python":                            "Python juda qulay!",
		"golang":                            "Go tilida kodlash zoâ€˜r!",
		"javascript":                        "JS front-end uchun ajoyib",
		"nodejs":                            "Node.js server taraf uchun ajoyib",
		"java":                              "Java backend uchun ishlatiladi",
		"c++":                               "C++ performans uchun ideal",
		"html":                              "HTML web sahifalar uchun kerak",
		"css":                               "CSS bilan sahifani chiroyli qilamiz",
		"vaqt":                              "Hozirgi vaqt: 15:04",
		"soat":                              "Hozirgi vaqt: 15:04",
		"qachon":                            "Hozirgi vaqt: 15:04",
		"yordam":                            "Menga yozing, yordam beraman!",
		"salomlar":                          "Salom, doâ€˜stim!",
		"rahmat":                            "Doimo mamnunman!",
		"nma gap":                           "Tinchlik",
		"how are you":                       "Iâ€™m fine, thanks!",
		"hello":                             "Hi there!",
		"hi":                                "Hello!",
		"good morning":                      "Good morning!",
		"gm":                                "Good morning!",
		"good night":                        "Sweet dreams!",
		"gn":                                "Good night!",
		"thanks":                            "Youâ€™re welcome!",
		"ty":                                "No problem!",
		"bye":                               "See you later!",
		"goodbye":                           "Bye bye!",
		"see you":                           "See you soon!",
		"welcome":                           "Welcome!",
		"congrats":                          "Congratulations!",
		"happy birthday":                    "Happy Birthday! ðŸŽ‰",
		"hb":                                "Happy Birthday! ðŸŽ‰",
		"cheers":                            "Cheers! ðŸ¥‚",
		"lol":                               "ðŸ˜‚ðŸ˜‚",
		"haha":                              "ðŸ˜„ðŸ˜„",
		"okey":                              "ok",
		"fine":                              "Good!",
		"cool":                              "ðŸ˜Ž",
		"awesome":                           "ðŸ‘",
		"great":                             "ðŸŒŸ",
		"bravo":                             "ðŸ‘ðŸ‘",
		"amazing":                           "ðŸ”¥ðŸ”¥",
		"wow":                               "ðŸ˜²",
		"nice":                              "ðŸ‘Œ",
		"perfect":                           "âœ…",
		"excellent":                         "ðŸŒŸðŸŒŸ",
		"yup":                               "Yes!",
		"yeah":                              "Yes!",
		"yes":                               "Yes!",
		"no":                                "No!",
		"maybe":                             "Hmmâ€¦",
		"idk":                               "I donâ€™t know",
		"roger":                             "Copy that!",
		"copy":                              "Copy!",
		"test":                              "Tested!",
		"ping":                              "Pong!",
		"pong":                              "Ping!",
		"check":                             "Checked!",
		"done":                              "Done!",
		"ready":                             "Ready!",
		"start":                             "Letâ€™s go!",
		"go":                                "Go ahead!",
		"stop":                              "Stop!",
		"wait":                              "Wait a moment!",
		"hold on":                           "Holdingâ€¦",
		"okey dokey artichokey":             "ðŸ˜‰",
		"brb":                               "Be right back!",
		"afk":                               "Away from keyboard!",
		"gtg":                               "Got to go!",
		"back":                              "Iâ€™m back!",
		"welcome back":                      "Welcome back!",
		"good job":                          "Well done!",
		"gj":                                "Well done!",
		"tysm":                              "Youâ€™re welcome!",
		"np":                                "No problem!",
		"thx":                               "Thanks!",
		"tnx":                               "Thanks!",
		"pls":                               "Please",
		"plz":                               "Please",
		"sorry":                             "No worries!",
		"sry":                               "No worries!",
		"excuse me":                         "Yes?",
		"hi there":                          "Hello!",
		"hey":                               "Hey!",
		"heya":                              "Hey!",
		"yo":                                "Yo!",
		"sup":                               "Sup?",
		"wassup":                            "Whatâ€™s up?",
		"whatâ€™s up":                         "Whatâ€™s up?",
		"howdy":                             "Howdy!",
		"greetings":                         "Greetings!",
		"salutations":                       "Salutations!",
		"peace":                             "âœŒï¸",
		"love":                              "â¤ï¸",
		"thanks a lot":                      "Youâ€™re welcome!",
		"many thanks":                       "Youâ€™re welcome!",
		"thx a lot":                         "Youâ€™re welcome!",
		"cheers mate":                       "Cheers!",
		"good evening":                      "Good evening!",
		"ge":                                "Good evening!",
		"evening":                           "Evening!",
		"good afternoon":                    "Good afternoon!",
		"ga":                                "Good afternoon!",
		"afternoon":                         "Afternoon!",
		"gmorning":                          "Good morning!",
		"gnight":                            "Good night!",
		"have fun":                          "Thanks!",
		"good luck":                         "All the best!",
		"gl":                                "Good luck!",
		"congratulations":                   "Congrats!",
		"grats":                             "Congrats!",
		"cheers!":                           "Cheers!",
		"yay":                               "ðŸŽ‰ðŸŽ‰",
		"yahoo":                             "ðŸŽŠðŸŽŠ",
		"wowow":                             "ðŸ˜²ðŸ˜²",
		"coolio":                            "ðŸ˜ŽðŸ˜Ž",
		"alright":                           "ðŸ‘ŒðŸ‘Œ",
		"okey dokey":                        "ðŸ‘ðŸ‘",
		"roger that":                        "Copy!",
		"copy that":                         "Roger!",
		"yes sir":                           "Yes!",
		"no sir":                            "No!",
		"affirmative":                       "Yes!",
		"negative":                          "No!",
		"aye aye":                           "Aye aye captain!",
		"oh no":                             "ðŸ˜±",
		"oops":                              "ðŸ˜…",
		"ouch":                              "ðŸ˜–",
		"yay!":                              "ðŸŽ‰",
		"hurray":                            "ðŸŽŠ",
		"booyah":                            "ðŸŽ‰",
		"winner":                            "ðŸ†",
		"champion":                          "ðŸ†",
		"boss":                              "ðŸ˜Ž",
		"king":                              "ðŸ‘‘",
		"queen":                             "ðŸ‘‘",
		"friend":                            "ðŸ‘‹",
		"buddy":                             "Hey buddy!",
		"pal":                               "Hello pal!",
		"mate":                              "Hello mate!",
		"dude":                              "Hey dude!",
		"bro":                               "Hey bro!",
		"sis":                               "Hey sis!",
		"fam":                               "Hey fam!",
		"team":                              "Hi team!",
		"class":                             "Hello class!",
		"group":                             "Hi group!",
		"students":                          "Hello students!",
		"oq yoâ€˜l":                           "rahmat!",
		"tabriklar":                         "rahmat!",
		"rahmat doâ€˜stim":                    "doimo mamnunman!",
		"kitob oâ€˜qiyapman":                  "qaysi kitob?",
		"kod yozyapman":                     "qaysi tilda?",
		"ha":                                "toâ€˜gâ€˜ri",
		"yoâ€˜q":                              "xato emas",
		"maybel":                            "ehtimol",
		"kechirasiz":                        "muammo yoâ€˜q",
		"afsus":                             "ha, afsuski",
		"jonli":                             "ha, hozir online",
		"offline":                           "hozir yoâ€˜q",
		"tayyor":                            "ha, tayyor",
		"boshladik":                         "boshladik!",
		"kuting":                            "kutaylik bir oz",
		"tezroq":                            "tezroq qilamiz",
		"sekinroq":                          "sekinroq qilamiz",
		"qiziqarli":                         "toâ€˜gâ€˜ri, qiziqarli",
		"zoâ€˜r":                              "rahmat!",
		"ajoyib":                            "rahmat!",
		"bor":                               "bor",
		"menga yordam kerak":                "albatta, yozing!",
		"salom aziz":                        "salom!",
		"doâ€˜st":                             "ha, salom doâ€˜st!",
		"aziz doâ€˜st":                        "ha, salom!",
		"rahmat katta":                      "doimo mamnunman!",
		"rahmat koâ€˜p":                       "doimo mamnunman!",
		"uzr":                               "muammo yoâ€˜q",
		"oâ€˜rganayapman":                     "zoâ€˜r, davom et!",
		"sinov":                             "test muvaffaqiyatli!",
		"qiziq":                             "ha, qiziq",
		"ajoyib ishlading":                  "rahmat!",
		"zoâ€˜r ishlading":                    "rahmat!",
		"dasturchi":                         "ha, men dasturchiman",
		"men ham":                           "zoâ€˜r!",
		"xayr":                              "xayr, salomat boâ€˜ling!",
		"koâ€˜rishguncha":                     "koâ€˜rishguncha!",
		"yaxshi dam oling":                  "rahmat!",
		"rahmat sizga":                      "doimo mamnunman!",
		"salom doâ€˜stlar":                    "salom, hammaga!",
		"hammasi yaxshi":                    "zoâ€˜r, rahmat!",
		"baraka toping":                     "amin!",
		"duo qilamiz":                       "ha, duo qilaylik!",
		"tinchlik":                          "ha, tinchlik boâ€˜lsin",
		"sevimli kitob":                     "qaysi kitob?",
		"sevimli dasturlash tili":           "qaysi til?",
		"foydali":                           "ha, foydali",
		"zoâ€˜r ish":                          "rahmat!",
		"rahmat katta doâ€˜st":                "doimo mamnunman!",
		"oâ€˜rganing":                         "ha, oâ€˜rganamiz!",
		"yoâ€˜q, rahmat":                      "mayli",
		"yaxshi kun":                        "sizga ham yaxshi kun!",
		"assalomu alaykum":                  "va alaykum assalom!",
		"alaykum assalom":                   "salom doâ€˜st!",
		"salom doâ€˜st":                       "salom!",
		"xayrli tong":                       "sizga ham xayrli tong!",
		"xayrli kun":                        "yaxshi kun tilayman!",
		"xayrli kech":                       "xayrli kech!",
		"qanday ishlar?":                    "hammasi yaxshi, sizchi?",
		"ishlaring yaxshimi":                "ha, rahmat!",
		"nima yangilik?":                    "hech narsa, sizchi?",
		"qayerdasiz?":                       "uydaman",
		"hozir nima qilayapsiz?":            "kod yozayapman",
		"yordam bera olasizmi?":             "albatta, yozing!",
		"dasturlash bilan shugâ€˜ullanyapman": "qaysi til?",
		"python oâ€˜rganayapman":              "zoâ€˜r!",
		"golang oâ€˜rganayapman":              "Zoâ€˜r, tez va sodda!",
		"javascript bilan ishlayapman":      "JS front-end uchun ajoyib",
		"html oâ€˜rganayapman":                "HTML sahifa uchun kerak",
		"css oâ€˜rganayapman":                 "CSS bilan sahifani chiroyli qilamiz",
		"java oâ€˜rganayapman":                "Java backend uchun ajoyib",
		"c++ oâ€˜rganayapman":                 "C++ performans uchun ideal",
		"vaqtni bilmoqchiman":               "hozirgi vaqt: 15:04",
		"soatni bilmoqchiman":               "hozirgi vaqt: 15:04",
		"bugun qaysi kun?":                  "bugun dushanba",
		"hafta kunlari":                     "Dushanba, Seshanba, Chorshanba, Payshanba, Juma, Shanba, Yakshanba",
		"dam olish":                         "ajoyib, dam oling!",
		"motivatsiya":                       "bugun ham zoâ€˜r ish qilamiz!",
		"salom hazil":                       "ðŸ˜‚ðŸ˜‚",
		"kulgi":                             "ðŸ˜„ðŸ˜„",
		"hazil qil":                         "aha, quvnoq hazil!",
		"qoâ€˜llab quvvatla":                  "rahmat!",
		"xayrli tun":                        "xayrli tun!",
		"tinchiq":                           "ha, tinchlik!",
		"kitob tavsiya":                     "qaysi janr?",
		"film tavsiya":                      "qaysi turdagi?",
		"musiqa tavsiya":                    "qaysi janr?",
		"oâ€˜qing":                            "ha, oâ€˜qing!",
		"ishingiz muvaffaqiyatli boâ€˜lsin":   "amin!",
		"tugâ€˜ilgan kuningiz bilan":          "tabriklar!",
		"ish kuningiz yaxshi oâ€˜tsin":        "rahmat!",
		"taâ€™tilingiz maroqli oâ€˜tsin":        "rahmat!",
		"hazil qilaylik":                    "ha, hazil qilamiz!",
		"kulamiz":                           "ðŸ˜‚ðŸ˜‚",
		"juda qiziq":                        "ha, juda qiziq!",
		"qiziqarli fakt":                    "ha, tinglaylik!",
		"yangiliklar":                       "qaysi soha?",
		"internet yangiliklar":              "ha, tinglaylik!",
		"texnologiya":                       "ha, texnologiya sohasida",
		"oâ€˜yinlar":                          "qaysi oâ€˜yin?",
		"sport":                             "qaysi sport?",
		"futbol":                            "ha, futbol zoâ€˜r!",
		"basketbol":                         "ha, basketbol zoâ€˜r!",
		"tennis":                            "ha, tennis ham zoâ€˜r!",
		"ping pong":                         "ha, ping pong ham qiziqarli!",
		"musiqa":                            "qaysi janr?",
		"rap":                               "ha, rap eshitamiz",
		"pop":                               "pop musiqani tinglaymiz",
		"jazz":                              "jazz tinglaymiz",
		"klasik":                            "klasik musiqa yoqadi",
		"kino":                              "qaysi janr?",
		"komediya":                          "komediya kulgili",
		"drama":                             "drama qiziqarli",
		"tarixiy film":                      "tarixiy film qiziqarli",
		"animatsiya":                        "bolalar uchun animatsiya",
		"oâ€˜yinchoqlar":                      "bolalar uchun",
		"yozuv":                             "ha, yozaylik",
		"sheâ€™r":                             "ha, sheâ€™r yozamiz",
		"hikoya":                            "ha, hikoya yozamiz",
		"BLIAT":                             "Nima bliat!",
		"ZORKU":                             "Men ham bilsam boâ€˜larmikan?",
		"RAHMAT":                            "Doimo mamnunman!",
		"YAXSHI":                            "Unda ajoyib",
		"YAXSHIMI":                          "Ha, yaxshi!",
		"KITOB":                             "Qaysi kitobni oâ€˜qiyapsiz?",
		"DASTURLASH":                        "Zoâ€˜r! Qaysi tilni ishlatyapsiz?",
		"PYTHON":                            "Python juda qulay!",
		"GOLANG":                            "Golang tez va sodda!",
		"JAVASCRIPT":                        "JS front-end uchun ajoyib",
		"HTML":                              "HTML sahifa uchun kerak",
		"CSS":                               "CSS bilan sahifani chiroyli qilamiz",
		"JAVA":                              "Java backend uchun ajoyib",
		"C++":                               "C++ performans uchun ideal",
		"VAQT":                              "Hozirgi vaqt: 15:04",
		"SOAT":                              "Hozirgi vaqt: 15:04",
		"QACHON":                            "Hozirgi vaqt: 15:04",
		"YORDAM":                            "Menga yozing, yordam beraman!",
		"SALOMLAR":                          "Salom, doâ€˜stim!",
		"NIM GAP":                           "Tinchlik",
		"NMA GAP":                           "Tinchlik",
		"NIMA QILASAN":                      "Kod yozayapman",
		"NIMA QILYAPSAN":                    "Kod yozayapman",
		"ISHINGIZ YAXSHIMI":                 "Ha, rahmat!",
		"Oâ€˜RGANAYAPMAN":                     "Zoâ€˜r, davom et!",
		"SINOV":                             "Test muvaffaqiyatli!",
		"QIZIQ":                             "Ha, qiziq!",
		"AJOYIB ISHLADING":                  "Rahmat!",
		"ZOâ€˜R ISHLADING":                    "Rahmat!",
		"DASTURCHI":                         "Ha, men dasturchiman",
		"MEN HAM":                           "Zoâ€˜r!",
		"XAYR":                              "Xayr, salomat boâ€˜ling!",
		"KOâ€˜RISHGUNCHA":                     "Koâ€˜rishguncha!",
		"YAXSHI DAM OLING":                  "Rahmat!",
		"RAHMAT SIZGA":                      "Doimo mamnunman!",
		"SALOM DOâ€˜STLAR":                    "Salom, hammaga!",
		"HAMMASI YAXSHI":                    "Zoâ€˜r, rahmat!",
		"BARAKA TOPING":                     "Amin!",
		"DUO QILAMIZ":                       "Ha, duo qilaylik!",
		"TINCHLIK":                          "Ha, tinchlik boâ€˜lsin",
		"SEVIMLI KITOB":                     "Qaysi kitob?",
		"SEVIMLI DASTURLASH TILI":           "Qaysi til?",
		"FOYDALI":                           "Ha, foydali",
		"ZOâ€˜R ISH":                          "Rahmat!",
		"Oâ€˜RGANING":                         "Ha, oâ€˜rganamiz!",
		"YOâ€˜Q, RAHMAT":                      "Mayli",
		"XAYRLI TUN":                        "Xayrli tun!",
		"TINCHIQ":                           "Ha, tinchlik!",
		"KITOB TAVSIYA":                     "Qaysi janr?",
		"FILM TAVSIYA":                      "Qaysi turdagi?",
		"MUSIQA TAVSIYA":                    "Qaysi janr?",
		"Oâ€˜QING":                            "Ha, oâ€˜qing!",
		"ISHINGIZ MUVAFFAQIYATLI BOâ€˜LSIN":   "Amin!",
		"TABRIKLAR":                         "Rahmat!",
		"TUGâ€˜ILGAN KUNINGIZ BILAN":          "Tabriklar!",
		"ISH KUNINGIZ YAXSHI Oâ€˜TSIN":        "Rahmat!",
		"TAâ€™TILINGIZ MAROQLI Oâ€˜TSIN":        "Rahmat!",
		"HAZIL QILAYLIK":                    "Ha, hazil qilamiz!",
		"KULAMIZ":                           "ðŸ˜‚ðŸ˜‚",
		"JUDA QIZIQ":                        "Ha, juda qiziq!",
		"QIZIQARLI FAKT":                    "Ha, tinglaylik!",
		"YANGILIKLAR":                       "Qaysi soha?",
		"INTERNET YANGILIKLAR":              "Ha, tinglaylik!",
		"TEXNOLOGIYA":                       "Ha, texnologiya sohasida",
		"Oâ€˜YINLAR":                          "Qaysi oâ€˜yin?",
		"SPORT":                             "Qaysi sport?",
		"FUTBOL":                            "Ha, futbol zoâ€˜r!",
		"BASKETBOL":                         "Ha, basketbol zoâ€˜r!",
		"TENNIS":                            "Ha, tennis ham zoâ€˜r!",
		"PING PONG":                         "Ha, ping pong ham qiziqarli!",
		"MUSIQA":                            "Qaysi janr?",
		"RAP":                               "Ha, rap eshitamiz",
		"POP":                               "Pop musiqani tinglaymiz",
		"JAZZ":                              "Jazz tinglaymiz",
		"KLASIK":                            "Klasik musiqa yoqadi",
		"KINO":                              "Qaysi janr?",
		"KOMEDIYA":                          "Komediya kulgili",
		"DRAMA":                             "Drama qiziqarli",
		"TARIXIY FILM":                      "Tarixiy film qiziqarli",
		"ANIMATSIYA":                        "Bolalar uchun animatsiya",
		"Oâ€˜YINCHOQLAR":                      "Bolalar uchun",
		"YOZUV":                             "Ha, yozaylik",
		"SHEâ€™R":                             "Ha, sheâ€™r yozamiz",
		"HIKOYA":                            "Ha, hikoya yozamiz",
		"Zorku":                             "Men ham bilsam boâ€˜larmikan?",
		"Rahmat":                            "Doimo mamnunman!",
		"Yaxshimi":                          "Ha, yaxshi!",
		"Kitob":                             "Qaysi kitobni oâ€˜qiyapsiz?",
		"Dasturlash":                        "Zoâ€˜r! Qaysi tilni ishlatyapsiz?",
		"Python":                            "Python juda qulay!",
		"Golang":                            "Golang tez va sodda!",
		"Javascript":                        "JS front-end uchun ajoyib",
		"Html":                              "HTML sahifa uchun kerak",
		"Css":                               "CSS bilan sahifani chiroyli qilamiz",
		"Java":                              "Java backend uchun ajoyib",
		"Vaqt":                              "Hozirgi vaqt: 15:04",
		"Soat":                              "Hozirgi vaqt: 15:04",
		"Qachon":                            "Hozirgi vaqt: 15:04",
		"Yordam":                            "Menga yozing, yordam beraman!",
		"Salomlar":                          "Salom, doâ€˜stim!",
		"Nim gap":                           "Tinchlik",
		"Nma gap":                           "Tinchlik",
		"Nima qilasan":                      "Kod yozayapman",
		"Nima qilyapsan":                    "Kod yozayapman",
		"Ishlaring yaxshimi":                "Ha, rahmat!",
		"Oâ€˜rganayapman":                     "Zoâ€˜r, davom et!",
		"Sinov":                             "Test muvaffaqiyatli!",
		"Qiziq":                             "Ha, qiziq!",
		"Ajoyib ishlading":                  "Rahmat!",
		"Zoâ€˜r ishlading":                    "Rahmat!",
		"Dasturchi":                         "Ha, men dasturchiman",
		"Men ham":                           "Zoâ€˜r!",
		"Xayr":                              "Xayr, salomat boâ€˜ling!",
		"Koâ€˜rishguncha":                     "Koâ€˜rishguncha!",
		"Yaxshi dam oling":                  "Rahmat!",
		"Rahmat sizga":                      "Doimo mamnunman!",
		"Salom doâ€˜stlar":                    "Salom, hammaga!",
		"Hammasi yaxshi":                    "Zoâ€˜r, rahmat!",
		"Baraka toping":                     "Amin!",
		"Duo qilamiz":                       "Ha, duo qilaylik!",
		"Tinchlik":                          "Ha, tinchlik boâ€˜lsin",
		"Sevimli kitob":                     "Qaysi kitob?",
		"Sevimli dasturlash tili":           "Qaysi til?",
		"Qales":                             "zoâ€˜r oâ€˜zingchi",
		"Nime hamma jim zerikiw time":       "ha, tinchlikmi?",
		"Norm":                              "zoâ€˜r",
		"A?":                                "ha, eshitaman",
		"Uzbda masman":                      "qayerdansiz?",
		"Shimkent":                          "ha, qoâ€˜shnilarimiz ðŸ˜Š",
		"Da":                                "ha",
		"Oqiman":                            "qaysi oâ€˜quv yurtida?",
		"Sizi 2 ga 1 yuta olishadimi":       "ha, balki ðŸ˜‚",
		"Ha":                                "toâ€˜gâ€˜ri",
		"Qatga qaravotudi bu ":              "ðŸ˜‚ bilmadim",
		"3 ga 1 yutomagan nima divos":       "boâ€˜lishi mumkin ðŸ˜‚",
		"GÊ»a harp qandesan":                 "zoâ€˜r, oâ€˜zingchi ðŸ‘½",
		"Faxriddinov qonday":                "zoâ€˜r bola u ðŸ˜‚",
		"Kenzo qonday":                      "zoâ€˜r Kenzo ðŸ˜Ž",
		"Norm uynci busa 1ga1 da ham meni yutadi bemalol": "demak, u kuchli oâ€˜yinchi ðŸ‘Š",
		"Sinfimdagi 2 tasi yutdi didiyu":                  "vay, shunaqami ðŸ˜‚",
		"KoÊ»t":                                            "odob bilan gapir ðŸ˜‚",
		"Ð¥Ñ‡ Ð¹Ð¾":                                           "ha, jim boâ€˜lib qolganmiz ðŸ˜…",
		"Ha sinfdagi ikkitasi bn o'ynagan ekansz ":        "ha, shunaqa deyishyapti ðŸ˜‚",
		"Qaqa":                "nima qaqa? ðŸ˜‚",
		"man chiqib ketvoman": "ketmang, qoling okam",
		"Ð‘Ð»Ð¼Ð°Ð´Ð¸Ð¼ ÑÐ°Ð½ ÐºÐµÑ‚ÑÐµÐ½ Ð¼Ð°Ð½Ð°Ð¼ ÐºÐµÑ‚Ð°Ð¼Ð°Ð½": "yoâ€˜q, ikkalang ham qolinglar ðŸ¥º",
		"Da yaxshi": "zoâ€˜r ðŸ‘Œ",
		"ha yaxshi mani hich kim eslagani yoq keta qolay yaxshisi": "ey yoâ€˜q, biz eslaymiz-ku ðŸ˜¢",
		"Yo jalot ma gap":              "tinchlikmi? ðŸ˜„",
		"Man esleman":                  "rahmat ðŸ˜‚",
		"Denax harp":                   "hmm, shunaqami ðŸ™‚",
		"HaðŸ˜‚":                          "ha-ha ðŸ˜‚",
		"hmm":                          "hmm... qiziq ðŸ˜",
		"Tinchli":                      "tinch, oâ€˜zingchi?",
		"Blaaa haromðŸ—¿ðŸ¦¶ðŸ¿":               "asta ðŸ˜‚",
		"Necinci yilsz":                "2011 ðŸ˜Ž",
		"Aot yahshimi demon slayer mi": "ikkalasi ham zoâ€˜r ðŸ”¥",
		"Da nima gaplar":               "tinchlik oâ€˜zizda?",
		"Man bn teng ekansz":           "ha, bir avlodmiz demak ðŸ˜",
		"Ð“Ð°":                           "ha ðŸ˜„",
		"@Yui_mii bye jigarim":         "bye jigar ðŸ¥º",
		"hm":                           "hmm...",
		"Aoti ham ey ble 2 lasi ham ðŸ˜‚ðŸ˜‚ bularniyam kata va kichiginiyam": "aniq ðŸ˜‚",
		"HaðŸ‘½ yomon bo'bdiyu":                     "ha, sal ogâ€˜ir boâ€˜ldi ðŸ˜…",
		"Nima gap ukam":                          "tinchlik, oâ€˜zingda nima gap? ðŸ‘Š",
		"Qandesan zurmisan":                      "zoâ€˜r, oâ€˜zingchi? ðŸ˜Ž",
		"kmsanðŸ—¿":                                 "shunchaki botman ðŸ—¿",
		"norm":                                   "zoâ€˜r-ku ðŸ˜",
		"Ye xuyet azamatov":                      "asta ðŸ˜‚",
		"Qatga ketvosan yb":                      "uyga, senchi? ðŸš¶",
		"km u":                                   "bir doâ€˜stimiz ðŸ˜Š",
		"Assalomu alaykum":                       "va alaykum salom ðŸ¤",
		"Ee. Ataylab qilyapsanmi":                "yoâ€˜q, tasodif edi ðŸ˜‚",
		"ÐšÐ¼Ð½Ð¸ ÐºÐ¾Ñ€Ð²Ð¾ÑÐ·ðŸ˜…":                          "hech kimni, shunchaki ðŸ˜…",
		"Ð‘Ð¾Ð»Ð°Ð´ Ð½Ð¼Ð° Ð³Ð°Ð¿Ð»Ð°":                        "tinchlik, sendan-chi? ðŸ˜„",
		"Nobara digan bitta qiz boridi shu qani": "yoâ€˜q, u chiqib ketdi shekilli ðŸ¤”",
		"Yaxshimsiz bro":                         "zoâ€˜r, rahmat! oâ€˜zingchi bro? ðŸ’ª",
		"BoÊ»ladi chidasa ozizchi jigarm":         "ha, bardosh beramiz ðŸ¥²",
		"Yee qaytdezmi jgar":                     "ha, qaytdim jigar ðŸ˜",
		"Bilaa qachon":                           "kecha edi shekilli â°",
		"Jigarm nma gplr":                        "hech narsa, shunchaki ðŸ˜„",
		"Kim zerikdi":                            "men ham sal ðŸ˜…",
		"Man":                                    "ha, boâ€˜ldimi? ðŸ˜‚",
		"Manam":                                  "zoâ€˜r, unda birga oâ€˜tiraylik ðŸ˜",
		"Kecha soat 16:00 Lada":                  "ha, oâ€˜sha payt ðŸ˜Ž",
		"Birga zerikamiz":                        "ha, boâ€˜ldi ðŸ˜‚",
		"Jgar":                                   "ha jigar ðŸ˜Ž",
		"Haa men kecha chat kiralmadim bilmapman": "ha, yoâ€˜q eding ðŸ¤”",
		"Hou":                        "ha, boâ€˜ldi ðŸ˜Š",
		"Qanday buldi ogritmadimi ðŸ¤£": "yoâ€˜q, oson oâ€˜tdi ðŸ˜…",
		"Xa":                         "xoâ€˜p ðŸ˜Š",
		"Bugun pzdes zb boÊ»laman":    "ha, dam ol ðŸ˜´",
		"Tosh-Qaychi-Qog'oz":         "boshladik oâ€˜yinni âœŠâœ‹âœŒï¸",
		"ðŸ O'yin yakunlandi!":        "zoâ€˜r oâ€˜yin boâ€˜ldi ðŸŽ®",
		"Sekinroq yozilar":           "xoâ€˜p, sekin yozamiz ðŸ˜…",
		"ðŸš¬ðŸ—¿":                         "sogâ€˜lom turmush tarzi yaxshi ðŸ˜Ž",
		"ðŸ—¿":                          "sogâ€˜lom turmush tarzi yaxshi ðŸ˜Ž",
		"ha yomon bobdiyu":           "ha, sal ogâ€˜ir boâ€˜ldi ðŸ˜…",
		"nima gap ukam":              "tinchlik, oâ€˜zingda nima gap? ðŸ‘Š",
		"qandesan zurmisan":          "zoâ€˜r, oâ€˜zingchi? ðŸ˜Ž",
		"kmsan":                      "shunchaki botman ðŸ—¿",
		"ye xuyet azamatov":          "asta ðŸ˜‚",
		"qatga ketvosan yb":          "uyga, senchi? ðŸš¶",
		"Qatga ketvosan":             "uyga, senchi? ðŸš¶",
		"Km u":                       "bir doâ€˜stimiz ðŸ˜Š",
		"assalomu  alaykum":          "va alaykum salom ðŸ¤",
		"tosh-qaychi-qog'oz":         "boshladik oâ€˜yinni âœŠâœ‹âœŒï¸",
		"Tosh-qaychi-qog'oz":         "boshladik oâ€˜yinni âœŠâœ‹âœŒï¸",
		"o'yin yakunlandi!":          "zoâ€˜r oâ€˜yin boâ€˜ldi ðŸŽ®",
	}
	for update := range updates {
		if update.Message == nil {
			continue
		}

		// Faqat ruxsat berilgan kanal/supergroup
		if update.Message.Chat.ID != allowedChannelID {
			continue
		}

		// âœ… 1. Yangi foydalanuvchi kirsa â€” xush kelibsiz
		if len(update.Message.NewChatMembers) > 0 {
			for _, newUser := range update.Message.NewChatMembers {
				if newUser.IsBot {
					continue
				}

				msg := tgbotapi.NewMessage(update.Message.Chat.ID,
					"Salom "+newUser.FirstName+"! Kanalga xush kelibsiz ðŸŽ‰\n!")
				msg.ReplyToMessageID = update.Message.MessageID
				_, err := bot.Send(msg)
				if err != nil {
					log.Println("Xush kelibsiz xabar yuborishda xato:", err)
				} else {
					log.Printf("Yangi foydalanuvchiga xush kelibsiz yuborildi: %s", newUser.FirstName)
				}

				// Yangi foydalanuvchini avtomatik javob ro'yxatiga qoâ€˜shamiz
				newUsers = append(newUsers, newUser)
			}
			continue
		}

		// âœ… 2. Oddiy xabar â€” buyruq tekshirish
		if !update.Message.From.IsBot {
			text := update.Message.Text
			if response, ok := commands[text]; ok {
				msg := tgbotapi.NewMessage(update.Message.Chat.ID, response)
				msg.ReplyToMessageID = update.Message.MessageID
				_, err := bot.Send(msg)
				if err != nil {
					log.Println("Buyruqqa javob berishda xato:", err)
				} else {
					log.Printf("Foydalanuvchi %s: %s â†’ Javob: %s",
						update.Message.From.FirstName, text, response)
				}
			}
		}
	}
}
